{"version":3,"sources":["webpack:///src/app/core/guards/can-load.guard.ts","webpack:///src/environments/environment.ts","webpack:///src/app/list-location/list-location.component.ts","webpack:///src/app/list-location/list-location.component.html","webpack:///src/app/shared/pipes/convert-date.pipe.ts","webpack:///src/app/core/interceptors/error.interceptor.ts","webpack:///src/app/core/classes/cache.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/core/interceptors/loading.interceptor.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/list-location/location/location.component.ts","webpack:///src/app/list-location/location/location.component.html","webpack:///src/app/core/services/loading.service.ts","webpack:///src/app/core/services/weather.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/shared/components/weather-icon/weather-icon.component.ts","webpack:///src/app/shared/components/weather-icon/weather-icon.component.html","webpack:///src/app/core/services/index.ts","webpack:///src/app/shared/pipes/weather-status.pipe.ts","webpack:///src/app/shared/pipes/valid-zip-code.pipe.ts","webpack:///src/app/add-location/add-location.component.ts","webpack:///src/app/add-location/add-location.component.html","webpack:///src/app/core/core.module.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/shared/enums/sky-condiction.enum.ts"],"names":["CanLoadGuard","weatherService","router","getZipCodesValue","length","navigate","environment","production","API_URL","API_KEY","ICON_URL","NUMBER_OF_DAYS","ListLocationComponent","zipCodes$","getZipCodes","selector","templateUrl","styleUrls","ConvertDatePipe","value","Date","toLocaleString","day","weekday","month","name","ErrorInterceptor","request","next","url","includes","handle","pipe","err","status","zipCode","split","substring","removeZipCode","CacheService","key","localStorage","getItem","data","setItem","JSON","stringify","removeItem","items","splice","indexOf","toString","clear","SharedModule","declarations","imports","exports","LoadingInterceptor","loadingService","req","start","stop","AppComponent","LocationComponent","locationDTO$","getLocationByZipCode","error","setZipCodeNotFound","message","setTimeout","LoadingService","isLoading$","requests","asObservable","push","WeatherService","http","mapToLocationDTO","weather","main","skyCondiction","asValueOrDefault","toLocaleLowerCase","DEFAuLT","currentTemp","temp","minTemp","temp_min","maxTemp","temp_max","localStoragekey","apiUrl","cachedZipCodes","zipCodeNotFound$","zipcode","removeValue","get","AppModule","bootstrap","WeatherIconComponent","imageSrc","skyCondition","icon","WeatherStatusPipe","SUN","RAIN","CLOUDS","SNOW","CLEAR","ValidZipCodePipe","checkDuplicateZipCode","AddLocationComponent","getZipCodeNotFound","loading$","isLoading","zipCodeForm","addZipCode","reset","onSubmit","CoreModule","provide","useClass","multi","providers","routes","path","pathMatch","component","loadChildren","then","m","ForecastModule","canLoad","redirectTo","AppRoutingModule","forRoot","bootstrapModule","console","webpackEmptyAsyncContext","Promise","resolve","e","Error","code","keys","module","id","SkyStatusEnum"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {CanLoad, Router} from '@angular/router';\r\nimport {WeatherService} from \"@app/services\";\r\n\r\n@Injectable()\r\nexport class CanLoadGuard implements CanLoad {\r\n\r\n    constructor(\r\n        private readonly weatherService: WeatherService,\r\n        private readonly router: Router\r\n    ) {\r\n    }\r\n\r\n    async canLoad(): Promise<boolean> {\r\n        if (this.weatherService.getZipCodesValue.length > 0) {\r\n            return true\r\n        } else {\r\n            await this.router.navigate(['/']);\r\n            return false\r\n        }\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    API_URL: `https://api.openweathermap.org/data/2.5/`,\n    API_KEY: `5a4b2d457ecbef9eb2a71e480b947604`,\n    ICON_URL: `https://www.angulartraining.com/images/weather/`,\n    NUMBER_OF_DAYS: 5\n};\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport {WeatherService} from \"@app/services\";\n\n@Component({\n  selector: 'app-list-location',\n  templateUrl: './list-location.component.html',\n  styleUrls: ['./list-location.component.css']\n})\nexport class ListLocationComponent implements OnInit {\n\n  zipCodes$ = this.weatherService.getZipCodes;\n\n  constructor(private readonly weatherService: WeatherService) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-container *ngFor=\"let zipCode of zipCodes$ | async\">\n    <app-location [zipCode]=\"zipCode\"></app-location>\n</ng-container>\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n    name: 'convertDate'\n})\nexport class ConvertDatePipe implements PipeTransform {\n\n    transform(value: number): string {\n        return new Date(value * 1000).toLocaleString('en-US', {\n            day: '2-digit',\n            weekday: 'long',\n            month: 'short',\n        });\n    }\n}\n","import {Injectable} from '@angular/core';\r\nimport {\r\n    HttpRequest,\r\n    HttpHandler,\r\n    HttpEvent,\r\n    HttpInterceptor,\r\n    HttpErrorResponse\r\n} from '@angular/common/http';\r\nimport {Observable, throwError} from 'rxjs';\r\nimport {catchError, retry} from 'rxjs/operators';\r\nimport {WeatherService} from \"@app/services\";\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private readonly weatherService: WeatherService) {\r\n    }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        if (request.url.includes('/weather')) {\r\n            return next.handle(request)\r\n                .pipe(\r\n                    retry(1),\r\n                    catchError((err: HttpErrorResponse) => {\r\n                        if (err.status === 404) {\r\n                            const zipCode = request.url.split('zip=')[1].substring(0, 5);\r\n                            this.weatherService.removeZipCode(zipCode);\r\n                        }\r\n                        return throwError(err);\r\n                    }));\r\n        } else {\r\n            return next.handle(request);\r\n        }\r\n\r\n    }\r\n}\r\n","export abstract class CacheService {\n    protected getItem(key: string): string {\n        return localStorage.getItem(key);\n    }\n\n    protected setItem(key: string, data: object | string) {\n        (typeof data === 'string') ? localStorage.setItem(key, data) : localStorage.setItem(key, JSON.stringify(data));\n    }\n\n    protected removeItem(key: string) {\n        localStorage.removeItem(key);\n    }\n\n    protected removeValue(key: string, value: string) {\n        const items = this.getItem(key).split(',');\n        items.splice(items.indexOf(value), 1);\n        this.setItem(key, items.toString());\n    }\n\n    protected clear() {\n        localStorage.clear();\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ValidZipCodePipe} from './pipes/valid-zip-code.pipe';\nimport {WeatherIconComponent} from './components/weather-icon/weather-icon.component';\nimport {WeatherStatusPipe} from './pipes/weather-status.pipe';\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {RouterModule} from \"@angular/router\";\nimport {ConvertDatePipe} from './pipes/convert-date.pipe';\n\n@NgModule({\n    declarations: [ValidZipCodePipe, WeatherIconComponent, WeatherStatusPipe, ConvertDatePipe],\n    imports: [\n        CommonModule,\n        HttpClientModule,\n        RouterModule\n    ], exports: [\n        CommonModule,\n        HttpClientModule,\n        RouterModule,\n        ValidZipCodePipe,\n        ConvertDatePipe,\n        WeatherIconComponent,\n        WeatherStatusPipe\n    ]\n})\nexport class SharedModule {\n}\n","import {Injectable} from '@angular/core';\r\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {delay, finalize} from 'rxjs/operators';\r\nimport {LoadingService} from '@app/services';\r\n\r\n@Injectable()\r\nexport class LoadingInterceptor implements HttpInterceptor {\r\n\r\n  constructor(\r\n    private readonly loadingService: LoadingService\r\n  ) {\r\n\r\n  }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    this.loadingService.start(req);\r\n    return next.handle(req).pipe(delay(300), finalize(() => this.loadingService.stop(req)));\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  name = 'Angular';\n}\n","<router-outlet></router-outlet>","import {Component, Input, OnInit} from '@angular/core';\nimport {LocationDTO} from \"@shared/models\";\nimport {WeatherService} from \"@app/services\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport {Observable, of} from \"rxjs\";\nimport {catchError} from \"rxjs/operators\";\n\n@Component({\n    selector: 'app-location',\n    templateUrl: './location.component.html',\n    styleUrls: ['./location.component.css']\n})\nexport class LocationComponent implements OnInit {\n\n\n    @Input() zipCode: string;\n    locationDTO$: Observable<LocationDTO>;\n\n    constructor(private readonly weatherService: WeatherService) {\n    }\n\n    ngOnInit(): void {\n        this.locationDTO$ = this.weatherService.getLocationByZipCode(this.zipCode)\n            .pipe(\n                catchError((error: HttpErrorResponse) => {\n                    this.weatherService.setZipCodeNotFound(error.message);\n                    setTimeout(() => this.weatherService.setZipCodeNotFound(), 2000);\n                    return of(null);\n                }));\n    }\n\n    removeLocation(): void {\n        this.weatherService.removeZipCode(this.zipCode);\n    }\n}\n","<div *ngIf=\"locationDTO$ | async as locationDTO\" class=\"container\">\n    <div class=\"well flex\">\n        <div>\n            <h3>{{locationDTO.name}} ({{zipCode}})</h3>\n            <h4>Current conditions: {{locationDTO.skyCondiction | titlecase}}</h4>\n            <h4>Temperatures today:</h4>\n            <p>\n                Current {{ locationDTO.currentTemp | number : '1.0-0'}}\n                - Max {{ locationDTO.maxTemp | number : '1.0-0'}}\n                - Min {{ locationDTO.minTemp | number : '1.0-0'}}\n            </p>\n            <p>\n                <a [routerLink]=\"['/forecast', zipCode]\">Show 5-day forecast for {{ locationDTO.name }}</a>\n            </p>\n        </div>\n        <div>\n            <button (click)=\"removeLocation()\" class=\"close\">Ã—</button>\n            <app-weather-icon [icon]=\"false\"\n                              [skyCondition]=\"locationDTO.skyCondiction | weatherStatus\"></app-weather-icon>\n        </div>\n    </div>\n    <hr>\n</div>\n\n\n","import { HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class LoadingService {\n\n  private requests: HttpRequest<any>[];\n\n  private isLoading$: BehaviorSubject<boolean>;\n\n  constructor() {\n    this.isLoading$ = new BehaviorSubject<boolean>(false);\n    this.requests = [];\n  }\n\n  get isLoading(): Observable<boolean> {\n    return this.isLoading$.asObservable();\n  }\n\n  start(req: HttpRequest<any>) {\n    this.requests.push(req);\n    this.isLoading$.next(true);\n  }\n\n  stop(req: HttpRequest<any>) {\n    this.requests.splice(this.requests.indexOf(req), 1);\n    if (this.requests.length === 0) {\n      this.isLoading$.next(false);\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {environment} from \"@environments/environment\";\nimport {CacheService} from \"@app/classes/cache.service\";\nimport {FullWeatherDTO, LocationDTO, MainWeatherDTO, WeatherDTO} from \"@shared/models\";\nimport {SkyStatusEnum} from \"@shared/enums/sky-condiction.enum\";\nimport {$enum} from 'ts-enum-util'\nimport {BehaviorSubject, Observable} from \"rxjs\";\nimport {filter, map} from \"rxjs/operators\";\n\n\n@Injectable()\nexport class WeatherService extends CacheService {\n\n    private readonly localStoragekey: string;\n    private readonly apiUrl: string;\n    private readonly zipCodes$: BehaviorSubject<Array<string>>;\n    private readonly cachedZipCodes: Array<string>;\n    private readonly zipCodeNotFound$: BehaviorSubject<string>;\n\n    constructor(private readonly http: HttpClient) {\n        super();\n\n        this.localStoragekey = 'ZIPCODES';\n        this.apiUrl = environment.API_URL;\n        this.zipCodes$ = new BehaviorSubject<Array<string>>([]);\n        this.cachedZipCodes = this.getItem(this.localStoragekey)?.split(',') ?? [];\n        this.zipCodes$.next(this.cachedZipCodes);\n        this.zipCodeNotFound$ = new BehaviorSubject<string>(null);\n    }\n\n    get getZipCodes(): Observable<string[]> {\n        return this.zipCodes$.asObservable();\n    }\n\n    get getZipCodesValue(): string[] {\n        return this.zipCodes$.value;\n    }\n\n    get getZipCodeNotFound(): Observable<string> {\n        return this.zipCodeNotFound$.asObservable();\n    }\n\n    removeZipCode(zipcode: string) {\n        if (this.cachedZipCodes.length === 1) {\n            this.cachedZipCodes.splice(this.cachedZipCodes.indexOf(zipcode), 1);\n            this.zipCodes$.next(this.cachedZipCodes);\n            this.clear();\n        } else {\n            this.cachedZipCodes.splice(this.cachedZipCodes.indexOf(zipcode), 1);\n            this.removeValue(this.localStoragekey, zipcode);\n            this.zipCodes$.next(this.cachedZipCodes);\n        }\n    }\n\n    setZipCodeNotFound(error?: string) {\n        this.zipCodeNotFound$.next(error);\n    }\n\n    checkDuplicateZipCode(zipCode: string): boolean {\n        return this.cachedZipCodes.indexOf(zipCode) === -1;\n    }\n\n    addZipCode(zipCode: string): void {\n        this.cachedZipCodes.push(zipCode);\n        this.setItem(this.localStoragekey, this.cachedZipCodes.toString());\n        this.zipCodes$.next(this.cachedZipCodes);\n    }\n\n    getLocationByZipCode(zipCode: string): Observable<LocationDTO> {\n        const url = `${this.apiUrl}weather?zip=${zipCode},us&appid=${environment.API_KEY}`;\n        return this.http.get<FullWeatherDTO>(url)\n            .pipe(\n                filter(({weather}: FullWeatherDTO) => !!weather),\n                map(({weather, main, name}) => this.mapToLocationDTO(weather, main, name)));\n    }\n\n    private mapToLocationDTO = (weather: WeatherDTO[], main: MainWeatherDTO, name: string) =>\n        ({\n            name: name,\n            skyCondiction: $enum(SkyStatusEnum).asValueOrDefault(weather[0].main.toLocaleLowerCase(), SkyStatusEnum.DEFAuLT),\n            currentTemp: main.temp,\n            minTemp: main.temp_min,\n            maxTemp: main.temp_max\n        }) as unknown as LocationDTO;\n\n}\n","import {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {CoreModule} from \"@app/core.module\";\nimport {AddLocationComponent} from \"./add-location/add-location.component\";\nimport {LocationComponent} from \"./list-location/location/location.component\";\nimport {ListLocationComponent} from \"./list-location/list-location.component\";\nimport {FormsModule} from \"@angular/forms\";\nimport {SharedModule} from \"@shared/shared.module\";\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        AddLocationComponent,\n        ListLocationComponent,\n        LocationComponent\n    ],\n    imports:\n        [\n            BrowserModule,\n            CoreModule,\n            FormsModule,\n            SharedModule,\n            AppRoutingModule\n        ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {SkyStatusEnum} from \"@shared/enums/sky-condiction.enum\";\nimport {environment} from \"@environments/environment\";\n\n@Component({\n    selector: 'app-weather-icon',\n    templateUrl: './weather-icon.component.html',\n    styleUrls: ['./weather-icon.component.css']\n})\nexport class WeatherIconComponent implements OnInit {\n\n    @Input() skyCondition: SkyStatusEnum;\n    @Input() icon: boolean;\n    imageSrc: string;\n\n    constructor() {\n    }\n\n    ngOnInit(): void {\n        this.imageSrc = `${environment.ICON_URL}${this.skyCondition}.png`;\n    }\n}\n","<img [class.icon]=\"icon\" [src]=\"imageSrc\" alt=\"not_found\">\n","export * from './loading.service';\r\nexport * from './weather.service';\r\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {SkyStatusEnum} from \"@shared/enums/sky-condiction.enum\";\n\n@Pipe({\n    name: 'weatherStatus'\n})\nexport class WeatherStatusPipe implements PipeTransform {\n\n    transform(value: string): SkyStatusEnum {\n        switch (value) {\n            case SkyStatusEnum.SUN:\n                return SkyStatusEnum.SUN\n            case SkyStatusEnum.RAIN:\n                return SkyStatusEnum.RAIN\n            case SkyStatusEnum.CLOUDS:\n                return SkyStatusEnum.CLOUDS\n            case SkyStatusEnum.SNOW:\n                return SkyStatusEnum.SNOW\n            case SkyStatusEnum.CLEAR:\n                return SkyStatusEnum.SUN\n            default:\n                return SkyStatusEnum.SUN\n        }\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {WeatherService} from \"@app/services\";\n\n@Pipe({\n    name: 'validZipCode'\n})\nexport class ValidZipCodePipe implements PipeTransform {\n    constructor(private readonly weatherService: WeatherService) {\n    }\n\n    transform(value: string): boolean {\n        return this.weatherService.checkDuplicateZipCode(value);\n    }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {NgForm} from \"@angular/forms\";\nimport {LoadingService, WeatherService} from \"@app/services\";\n\n@Component({\n    selector: 'app-add-location',\n    templateUrl: './add-location.component.html',\n    styleUrls: ['./add-location.component.css']\n})\nexport class AddLocationComponent implements OnInit {\n\n    zipCode: string;\n    zipCodeNotFound$ = this.weatherService.getZipCodeNotFound;\n    loading$ =  this.loadingService.isLoading;\n\n    constructor(private readonly weatherService: WeatherService, private readonly loadingService: LoadingService) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    onSubmit(zipCodeForm: NgForm): void {\n        this.weatherService.addZipCode(zipCodeForm.value.zipCode);\n        zipCodeForm.reset();\n    }\n}\n","<div class=\"container\">\n    <div class=\"card\">\n        <div class=\"card-header font-weight-bold\">\n            Enter a zipcode:\n        </div>\n        <div class=\"card-body\">\n            <form #zipCodeForm=\"ngForm\" (submit)=\"onSubmit(zipCodeForm)\">\n                <input #zipCodeInput=\"ngModel\"\n                       [class.is-invalid]=\"zipCodeInput.invalid && zipCodeInput.touched\"\n                       [class.is-valid]=\"!(zipCodeInput.invalid && zipCodeInput.untouched)\"\n                       pattern=\"^[0-9]*$\"\n                       class=\"form-control\" name=\"zipCode\" type=\"text\" id=\"addLocation\"\n                       [(ngModel)]=\"zipCode\" minlength=\"5\" maxlength=\"5\"\n                       placeholder=\"Enter a zipcode  e.g: 95742\" required>\n                <div *ngIf=\"zipCodeInput.errors && (zipCodeInput.invalid || zipCodeInput.touched)\">\n                    <small id=\"zipCodeError2\" class=\"text-danger\"\n                           *ngIf=\"zipCodeInput.errors.pattern || zipCodeInput.errors.minlength\">\n                        {{zipCodeInput.value}} is not a valid zipcode\n                    </small>\n                    <small id=\"zipCodeError3\" class=\"text-danger\"\n                           *ngIf=\"zipCodeInput.errors.required && zipCodeInput.touched\">\n                        A zipcode is required\n                    </small>\n\n                </div>\n\n                <br>\n\n                <div id=\"zipCodeError4\" class=\"alert alert-warning\" role=\"alert\"\n                     *ngIf=\"!(zipCodeInput.untouched) && !(zipCodeInput.value | validZipCode)\">\n                    This zipcode has already been added !\n                </div>\n\n                <div id=\"zipCodeError5\" class=\"alert alert-danger\" role=\"alert\"\n                     *ngIf=\"(zipCodeNotFound$ | async)\">\n                    This zipcode has not been found !\n                </div>\n\n\n                <button class=\"btn btn-primary btn-rounded text-monospace font-italic font-weight-bolder\"\n                        [disabled]=\"!(zipCodeInput.value | validZipCode) || zipCodeInput.invalid\">\n                    Add location\n                    <i *ngIf=\"loading$ | async\" class=\"fa fa-spinner fa-spin\"></i>\n                </button>\n            </form>\n        </div>\n    </div>\n\n    <br>\n\n    <div class=\"card\">\n        <app-list-location></app-list-location>\n    </div>\n</div>\n","import {NgModule} from '@angular/core';\nimport {HTTP_INTERCEPTORS} from \"@angular/common/http\";\nimport {LoadingInterceptor} from \"@app/interceptors/loading.interceptor\";\nimport {WeatherService} from \"@app/services\";\nimport {LoadingService} from \"@app/services\";\nimport {SharedModule} from \"@shared/shared.module\";\nimport {CanLoadGuard} from \"@app/guards/can-load.guard\";\nimport {ErrorInterceptor} from \"@app/interceptors/error.interceptor\";\n\n\n@NgModule({\n    imports: [\n        SharedModule\n    ],\n    providers: [\n        WeatherService,\n        LoadingService,\n        CanLoadGuard,\n        {provide: HTTP_INTERCEPTORS, useClass: LoadingInterceptor, multi: true},\n        {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true}\n    ]\n})\nexport class CoreModule {\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {AddLocationComponent} from \"./add-location/add-location.component\";\nimport {CanLoadGuard} from \"@app/guards/can-load.guard\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        pathMatch: 'full',\n        component: AddLocationComponent\n    },\n    {\n        path: 'forecast',\n        loadChildren: () => import('./modules/forecast/forecast.module').then(m => m.ForecastModule),\n        canLoad: [CanLoadGuard],\n    },\n    {\n        path: '**',\n        redirectTo: '/'\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes)],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nenableProdMode();\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","export enum SkyStatusEnum {\r\n    SUN = 'sun',\r\n    CLOUDS = 'clouds',\r\n    RAIN = 'rain',\r\n    SNOW = 'snow',\r\n    CLEAR = 'clear',\r\n    THUNDERSTORM = 'thunderstorm',\r\n    MIST = 'mist',\r\n    DEFAuLT = 'sun'\r\n}\r\n"]}